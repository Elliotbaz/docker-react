sudo: required

services:
  - docker

before_install:
  - docker build -t elliotbazuaye/docker-react -f Dockerfile.dev .

script:
  - docker run -e CI=true elliotbazuaye/docker-react npm run test -- --coverage

deploy:
  provider: elasticbeanstalk
  access_key_id:
    secure: "hCFgoYYeHZMBrRJAi0YB3kuXWFEiFPOiB6totUuiEDbU1W3gVYVOxQQidGe53g78UgY5oGro2pVHr5J8jLPsZ31nM74xwMa4FLjq+EgH1a4bkSwV8UkI2DgFYWHQkwxSALYEl3Pefye6JNh4/FPihTK2Q/+SSJQqQD59rlUnwbv+jIj21AQ1jB6rhZHb6clXOhWd0sqaEBBWUJ9oEfGBUOP3kXizbm3PiraV3fL3QT4Ix7jDZOOYUY4Hi1ZIvUxlD1owqQVE+I3c5swp12+lpXweF14x39zYitRp610vxFwLDX+NqtYfHzWcxd+XKW2lskcXBn7ptaoyPwWB3xeVGuek+yCFjctBu369mHzAWqTfx53bi7RtST+1LuLPeJaEb+4zCFfkPiJecjC29YIrMdcOxxZBMMaY6C1lpdF/4gWrAXvOZbjwYUiuNqc8ZZv2OMMAPxbLCg9SAkE+ruX1GzCLDAA+oK25Pzh83SLE3MCVRi5RNsMSJkhFFrcdq2yzQGQM2zZOJWEimPr4JeByo9rPevfugHlGxjqmQPVGepzQrQBCjIpa1VbYi6Oj2cMLkBOV/GRdhoZG+Q12cUkujGqOhakZC9v7mvj4CfQSKkS0Q+LJoyiVMXU9GxDqpraRKdr3h4HCSBDrC1o8yU08dnh7qhyZO0vVCGSOwIYaESU="
  secret_access_key:
    secure: "V9lAFiinat4lPqzmLqGCG4tsqhbmQV9nVKTMzR5UGaCIYgW4hE7Df/OkJS0GW4wCE8i6AsSQvtXvV+wkHap7RZfjfacb1VgaT/JaCLPtpwS6cVwkTOeRb7HT0B98gQXPeQ+jHsiZXtcMbtxuFBF2iE2rA21G3np65Z0TiTZ7c3Xu4pIo61w0rMsM8l5pZNDHrkYkDpniqUEAbM0FlgIz2lPHIL2sB3C+7XllnpkksiXnXGfoOcpw9RxhGRcofiVjXF0ZBGNBYzkEW9QQnaW/nc3KtTCFZJm3X88UuqCqC3FAf9Pl67JxyqidhqO5Nlxq/IuSOKtjxXcFaomYV5xjYCRvLdfYcJhxNr4pM2YvR1pfbCJPampg/7b4eeTjA6XYuweu2AyXAmZEEZU7UNnEQCCqiBPcZTI+kPp1taDA77WNIzdO/N6gItbUAekrfvgUdM+VH4q4WZBdTYwfVqsyB0F2jkuZFDifi9bvUHkxl4tJTfDLEuZML5aEQOANBPruQsBunRqHRNfwTFaci8DKAa0oufQAvIhO5Ynz5RsYPuyJqc+OunCyRazpFEOrQTWzZuaOBsc9ALAAuQ9c35v0Ig+QXhqZ8RNkWVCNjzpsuByKI6ZBBZg7E0RJI+Hg+HBVUZNk5oJ7/6AEJVYReao79IUHsH9RkDNjlDvhV26Bnsw="
  region: "us-east-1"
  app: "docker-react"
  env: "Dockerreact-env"
  bucket_name: "elasticbeanstalk-us-east-1-042642202901"
  on:
    branch: main
